(begin-tx)

(interface foo-interface
  @doc "do some crazy foo stuff"
  @model (property (do (crazy stuff)))

  (defun foo:bool (x:bool))
  (defun bar:bool (x:decimal y:bool) @doc "i love bars")
  (defun f:string () "docs work without the doc")

  (defconst BAZ:bool true)
  (defconst QUX "qux the casbah")

  (defun g:bool () 
    @model (property (do (stuff)))
    @doc "is for great"
    )
)

(interface bar
  @doc "more crazy stuff"
  @model (property (do (foobar)))

  (defun foobar:decimal (x:bool))
)

(commit-tx)

(define-keyset 'k (sig-keyset))

(module mod 'k
  @doc   "this defines mod"
  @model (property (do (crazy stuff)))

  (implements foo-interface)

  (defun foo:bool (x:bool) @doc "foo the town" true)
  (defun bar:bool (x:decimal y:bool) @doc "i love bars" y)
  (defun f:string () @doc "return" "f")
  (defun g:bool () true)

  (defun foobar ()
    "docstrings work without @doc"
    2)

  (defconst BAR 1 @doc "barring disbelief")
  (defconst QUX "noqux the casbah")

)
